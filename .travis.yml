# thameswater is written in Python...
language: python

# and we're only going to validate against Python 3.6
python:
  - "3.6"

#variables:
#  PACKAGE_NAME: thameswater


# Make sure that we install pylint and flake8
#install:
#  - pip install -r requirements.txt

script:
  # - pip install flake8 pylint
  - flake8 thameswater
  - pylint thameswater/thameswater.py
#  - deploy

deploy:
  on:
    branch: '0.5'
    python: '3.6'
  provider: pypi
  user: "papadeltasierra"
  password:
    secure: "IbXZeT3LeABYRtDI5layNkJOI8prVmjLQejJADKcSOKcj1WycuNNcQ7TMnOBLK4xTXnuxnXHraDHmY4qLL37ClLKMYpaZLT0YGikQJddZktENkLCPGblHiQtJPRSmyMYRv+IuphwFzgHLfRXNGdJzXuaH6+VWLNX4hI6pTAouL9/o0jC0AmhYe+/Uf/y8WhbO5vokmbckRY6B2uBJbrdke6QPm5RYR7e0GM6P7+8yFUI71POc23vbeLxBGjqvKMSpyLebV+Rzz0dfSsGfOLS0Wa5+tAgPiBNeGoic3GVSsY+RwumHGs9Sl9pf3QSJ8mspX4e0tHiubbx9cV+JgEc0/pX/XknuiehstUO/DhkC182b/leOMbf130FA/T5c84XqUqtacgigjcA7AQmKvy+VTgkAaUatdHCZGJcE/OGaJ6mSzNRrhU279O5lZJOvGNs1nqC3VZsFXWAomDMBkMBCSx1CMeIsC+UapnAfQ5P4w0luaR4JQE8379X3KMU5u4xCZdYvxgXG0TgfFrMwCgjdl0qtNnDtLgIdtSvkZF1ygBAuO25Nx7/w7+6FLaM6uOA0CsZ2zLuw0fNBtr0m78s/PxC/5Lvbhz68cbl+jyKla6N+eWXghUyGyjezaxnTJTz/EVx/Hg1EQ25MZnw83M2M9+jeKgXMr8aklMC+NzI6Iw="#
  security_lint:
#  <<: *setup_lint
#  stage: lint
#  script:
#    - pip install bandit
#    - mkdir -p output/bandit_logs
#    - bandit -a file -r . -f html -ll -o output/bandit_logs/report_medium_high.html
#  artifacts:
#    when: on_failure
#    paths:
#      - output/bandit_logs
#    expire_in: 1 day

#deploy:
#  image: python:3.6
#  stage: deploy
#  environment:
#    name: production
#  script:
#    - pip install --upgrade pip --quiet
#    - pip install setuptools wheel --quiet
#    - python setup.py sdist bdist_wheel upload
#  when: manual
#  only:
#    - /^v?\d+\.\d+\.\d+([abc]\d*)?$/
#  except:
#    - branches
